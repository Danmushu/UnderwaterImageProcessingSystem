# UIPS 项目模块文档索引

## 📚 文档概述

本文档汇总了 UIPS（水下图像处理系统）项目中所有模块的说明文档，帮助开发者快速了解项目结构和各模块职责。

---

## 🗂️ 项目结构

```
UIPS/
├── src/
│   ├── UIPS.API/                    # 后端 Web API
│   │   ├── Controllers/             # 控制器层
│   │   │   └── README.md            # ✅ 控制器模块文档
│   │   ├── DTOs/                    # 数据传输对象
│   │   │   └── README.md            # ✅ DTO 模块文档
│   │   ├── Models/                  # 数据库实体
│   │   │   └── README.md            # ✅ 实体模块文档
│   │   ├── Services/                # 业务服务
│   │   │   └── README.md            # ✅ 服务模块文档
│   │   └── Migrations/              # 数据库迁移
│   │
│   └── UIPS.Client/                 # 前端 WPF 客户端
│       ├── Services/                # API 客户端服务
│       │   └── README.md            # ✅ 前端服务模块文档
│       ├── ViewModels/              # 视图模型
│       │   └── README.md            # ✅ ViewModel 模块文档
│       ├── Views/                   # 视图
│       │   └── README.md            # ✅ 视图模块文档
│       ├── Resources/               # 资源文件
│       │   └── README.md            # ✅ 资源模块文档
│       └── Converters/              # 值转换器
│           └── README.md            # ✅ 转换器模块文档
│
└── tests/
    └── UIPS.API.Tests/              # 单元测试
```

---

## 📖 后端模块文档

### 1. Controllers - 控制器层
**路径**: `src/UIPS.API/Controllers/README.md`

**内容概要**:
- AuthController：用户认证（登录/注册）
- ImageController：图片管理（上传/查看/删除/收藏）
- AdminController：管理员功能（用户管理/统计）
- API 接口详细说明
- 权限控制机制

**关键信息**:
| 控制器 | 接口数 | 认证要求 |
|--------|--------|----------|
| AuthController | 2 | 无 |
| ImageController | 9 | JWT |
| AdminController | 6 | Admin 角色 |

---

### 2. DTOs - 数据传输对象
**路径**: `src/UIPS.API/DTOs/README.md`

**内容概要**:
- 12 个 DTO 类的详细说明
- 认证相关 DTO（LoginRequestDto, LoginResponseDto）
- 图片相关 DTO（ImageDto, ImageResponseDto, AdminImageDto）
- 分页相关 DTO（PaginatedRequestDto, PaginatedResult<T>）
- 管理员相关 DTO（UserDto, UpdateRoleDto 等）

**关键信息**:
| 分类 | 数量 |
|------|------|
| 认证相关 | 2 |
| 图片相关 | 3 |
| 分页相关 | 2 |
| 管理员相关 | 5 |

---

### 3. Models - 数据库实体
**路径**: `src/UIPS.API/Models/README.md`

**内容概要**:
- User：用户实体
- Image：图片实体
- Favourite：收藏实体
- 数据库表结构
- 实体关系图
- 索引配置

**关键信息**:
| 实体 | 字段数 | 索引数 |
|------|--------|--------|
| User | 4 | 1 |
| Image | 6 | 1 |
| Favourite | 4 | 1 |

---

### 4. Services - 业务服务
**路径**: `src/UIPS.API/Services/README.md`

**内容概要**:
- UipsDbContext：EF Core 数据库上下文
- IFileService：文件存储服务接口
- LocalFileService：本地文件存储实现
- 依赖注入配置
- 扩展性设计

**关键信息**:
| 服务 | 类型 | 生命周期 |
|------|------|----------|
| UipsDbContext | 类 | Scoped |
| IFileService | 接口 | - |
| LocalFileService | 类 | Scoped |

---

## 📖 前端模块文档

### 5. Services - API 客户端服务
**路径**: `src/UIPS.Client/Services/README.md`

**内容概要**:
- IAuthApi：认证 API 接口
- IImageApi：图片 API 接口
- IAdminApi：管理员 API 接口
- UserSession：用户会话管理
- AuthHeaderHandler：JWT Token 拦截器
- Refit 配置说明

**关键信息**:
| 服务 | 需要 Token |
|------|-----------|
| IAuthApi | ❌ |
| IImageApi | ✅ |
| IAdminApi | ✅ |

---

### 6. ViewModels - 视图模型
**路径**: `src/UIPS.Client/ViewModels/README.md`

**内容概要**:
- LoginViewModel：登录/注册逻辑
- DashboardViewModel：图片管理主界面逻辑
- AdminViewModel：管理员面板逻辑
- MVVM 架构说明
- 命令和属性详解

**关键信息**:
| ViewModel | 属性数 | 命令数 |
|-----------|--------|--------|
| LoginViewModel | 7 | 2 |
| DashboardViewModel | 12 | 10 |
| AdminViewModel | 12 | 8 |

---

### 7. Views - 视图
**路径**: `src/UIPS.Client/Views/README.md`

**内容概要**:
- LoginView：登录/注册界面
- DashboardView：仪表盘主界面
- AdminView：管理员面板界面
- 界面结构图
- 数据绑定示例
- Material Design 组件使用

**关键信息**:
| 视图 | 类型 |
|------|------|
| LoginView | Window |
| DashboardView | UserControl |
| AdminView | UserControl |

---

### 8. Resources - 资源文件
**路径**: `src/UIPS.Client/Resources/README.md`

**内容概要**:
- Colors.xaml：颜色定义
- Styles.xaml：样式模板
- 深海主题设计
- 资源引用配置

**关键信息**:
| 资源键 | 颜色 | 用途 |
|--------|------|------|
| PrimaryBrush | #0277BD | 主色 |
| SecondaryBrush | #00BCD4 | 辅色 |
| BackgroundBrush | #263238 | 背景 |

---

### 9. Converters - 值转换器
**路径**: `src/UIPS.Client/Converters/README.md`

**内容概要**:
- InverseBooleanConverter：布尔值取反
- 常用转换器扩展建议
- IValueConverter 接口说明
- 注册和使用方法

**关键信息**:
| 转换器 | 状态 |
|--------|------|
| InverseBooleanConverter | ✅ 已实现 |
| BooleanToVisibilityConverter | 📝 建议添加 |
| FileSizeConverter | 📝 建议添加 |

---

## 📊 模块统计

### 后端模块

| 模块 | 文件数 | 主要职责 |
|------|--------|----------|
| Controllers | 3 | HTTP 请求处理 |
| DTOs | 12 | 数据传输 |
| Models | 3 | 数据库实体 |
| Services | 3 | 业务逻辑 |
| **总计** | **21** | - |

### 前端模块

| 模块 | 文件数 | 主要职责 |
|------|--------|----------|
| Services | 5 | API 通信 |
| ViewModels | 3 | UI 逻辑 |
| Views | 6 | 用户界面 |
| Resources | 2 | 资源定义 |
| Converters | 1 | 数据转换 |
| **总计** | **17** | - |

---

## 🔗 快速导航

### 后端开发
1. [Controllers 文档](src/UIPS.API/Controllers/README.md) - API 接口开发
2. [DTOs 文档](src/UIPS.API/DTOs/README.md) - 数据传输对象
3. [Models 文档](src/UIPS.API/Models/README.md) - 数据库设计
4. [Services 文档](src/UIPS.API/Services/README.md) - 业务服务

### 前端开发
1. [Services 文档](src/UIPS.Client/Services/README.md) - API 客户端
2. [ViewModels 文档](src/UIPS.Client/ViewModels/README.md) - MVVM 逻辑
3. [Views 文档](src/UIPS.Client/Views/README.md) - 界面设计
4. [Resources 文档](src/UIPS.Client/Resources/README.md) - 主题资源
5. [Converters 文档](src/UIPS.Client/Converters/README.md) - 值转换器

---

## 📝 文档维护

### 更新原则
1. 添加新文件时，更新对应模块的 README.md
2. 修改接口时，同步更新文档
3. 保持文档与代码一致

### 文档格式
- 使用 Markdown 格式
- 包含代码示例
- 使用表格整理信息
- 添加架构图和流程图

---

## 🎯 总结

本项目共有 **9 个模块文档**，覆盖了前后端的所有核心模块：

✅ 后端 4 个模块：Controllers, DTOs, Models, Services
✅ 前端 5 个模块：Services, ViewModels, Views, Resources, Converters

每个文档都包含：
- 模块概述和职责
- 文件清单
- 详细的类/接口说明
- 代码示例
- 架构设计
- 开发规范

这些文档可以帮助开发者快速理解项目结构，提高开发效率。
